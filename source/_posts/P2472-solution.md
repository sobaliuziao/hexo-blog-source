---
title: P2472 [SCOI2007]蜥蜴 题解
date: 2021-05-02 22:21:00
---

很明显这题要拆点，因为蜥蜴跳上去的个数是有限的。

超级源点直接向左边那一堆点连流量为 $1$ 的边即可（只可能遍历一次）。

处理蜥蜴跳来跳去的情况只需要用拆出来的点向最开始没拆的点连流量为 $\infty$ 的边就行（顺序要搞对）。

然后右边那一堆点如果能跳到图外，就向超级汇点连流量为 $\infty$ 的边（注意：这里是可以经过多次的，因为上面蜥蜴可以从一个点跳到另一个点）。

[代码](https://www.luogu.com.cn/paste/wl4y3d39)。